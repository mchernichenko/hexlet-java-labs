# Указываем образ, от которого наследуемся
FROM gradle:7.2.0-jdk16

# Устанавливаем рабочую директорию. По сути это команда cd, установка рабочей директории.
# Все последующие инструкции будут считать, что они выполняются именно внутри неё, для таких команд как RUN.
# При старте контейнера, мы также окажемся внутри рабочей директории, а не в папке /root
WORKDIR /home/app

# Копируем директорию из основной файловой системы внутрь образа
COPY ./app .

# Определяет действие, которое будет выполнено при старте контейнера (docker run)
# Используется только в случае, если контейнер был запущен без указания команды
# [команда, аргумент]
CMD ["gradle", "bootRun"]

# Сообщаем, что контейнер использует 8080 порт
EXPOSE 8080